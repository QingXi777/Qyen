<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Qyen Vision 登录</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
/* ====== 背景动画：Liquid Ether（新增） ====== */
.liquid-ether {
  position: fixed;
  inset: 0;
  z-index: -1;                 /* 在内容后面 */
  overflow: hidden;
  pointer-events: none;
  isolation: isolate;
}
.liquid-ether .blob {
  position: absolute;
  width: 55vmax;
  height: 55vmax;
  background: radial-gradient(circle at 50% 50%, rgba(99,102,241,0.8), transparent 62%);
  filter: blur(45px);
  opacity: 0.65;
  mix-blend-mode: screen;
  will-change: transform, opacity;
  animation-duration: 18s;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
}
.liquid-ether .b1 { background: radial-gradient(circle at 50% 50%, rgba(96,165,250,0.85), transparent 62%); }
.liquid-ether .b2 { background: radial-gradient(circle at 50% 50%, rgba(99,102,241,0.8),  transparent 62%); }
.liquid-ether .b3 { background: radial-gradient(circle at 50% 50%, rgba(236,72,153,0.75), transparent 62%); }
.liquid-ether .b4 { background: radial-gradient(circle at 50% 50%, rgba(250,204,21,0.75), transparent 62%); }

.liquid-ether .b1 { top: -20vmax; left: -15vmax; animation-name: le-path-1; }
.liquid-ether .b2 { top: -25vmax; right: -18vmax; animation-name: le-path-2; animation-duration: 20s; }
.liquid-ether .b3 { bottom: -22vmax; left: -12vmax; animation-name: le-path-3; animation-duration: 22s; }
.liquid-ether .b4 { bottom: -25vmax; right: -20vmax; animation-name: le-path-4; animation-duration: 24s; }

.liquid-ether .noise {
  position: absolute; inset: -10%;
  background:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,0.08), transparent 60%) repeat,
    radial-gradient(2px 2px at 80% 70%, rgba(255,255,255,0.06), transparent 60%) repeat;
  background-size: 120px 120px, 140px 140px;
  mix-blend-mode: overlay;
  opacity: .35;
  animation: le-noise 12s linear infinite;
}

@keyframes le-path-1 {
  0%   { transform: translate3d(0,0,0) scale(1) rotate(0deg); }
  25%  { transform: translate3d(8vmax,6vmax,0) scale(1.08) rotate(10deg); }
  50%  { transform: translate3d(2vmax,16vmax,0) scale(0.96) rotate(25deg); }
  75%  { transform: translate3d(10vmax,10vmax,0) scale(1.06) rotate(8deg); }
  100% { transform: translate3d(0,0,0) scale(1) rotate(0deg); }
}
@keyframes le-path-2 {
  0%   { transform: translate3d(0,0,0) scale(1.02) rotate(0deg); }
  25%  { transform: translate3d(-8vmax,8vmax,0) scale(0.95) rotate(-12deg); }
  50%  { transform: translate3d(-2vmax,18vmax,0) scale(1.05) rotate(-28deg); }
  75%  { transform: translate3d(-10vmax,10vmax,0) scale(0.98) rotate(-8deg); }
  100% { transform: translate3d(0,0,0) scale(1.02) rotate(0deg); }
}
@keyframes le-path-3 {
  0%   { transform: translate3d(0,0,0) scale(0.98) rotate(0deg); }
  25%  { transform: translate3d(10vmax,-8vmax,0) scale(1.06) rotate(12deg); }
  50%  { transform: translate3d(4vmax,-18vmax,0) scale(0.94) rotate(24deg); }
  75%  { transform: translate3d(12vmax,-10vmax,0) scale(1.04) rotate(6deg); }
  100% { transform: translate3d(0,0,0) scale(0.98) rotate(0deg); }
}
@keyframes le-path-4 {
  0%   { transform: translate3d(0,0,0) scale(1.04) rotate(0deg); }
  25%  { transform: translate3d(-8vmax,-6vmax,0) scale(0.97) rotate(-14deg); }
  50%  { transform: translate3d(-4vmax,-16vmax,0) scale(1.03) rotate(-26deg); }
  75%  { transform: translate3d(-12vmax,-8vmax,0) scale(0.99) rotate(-6deg); }
  100% { transform: translate3d(0,0,0) scale(1.04) rotate(0deg); }
}
@keyframes le-noise {
  from { transform: translate3d(0,0,0); }
  to   { transform: translate3d(-120px,-140px,0); }
}
@media (prefers-reduced-motion: reduce) {
  .liquid-ether .blob,
  .liquid-ether .noise { animation: none !important; }
}

/* ====== 原有样式（保持） ====== */
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at top, #0b0f14, #000); /* 兜底背景 */
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-family: "Segoe UI", system-ui, sans-serif;
  overflow: hidden;
}
.form {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 320px;
  padding: 28px;
  background: rgba(0, 0, 0, 0.6);
  border-radius: 15px;
  overflow: hidden;
  perspective: 1000px;
  transform-style: preserve-3d;
  transform: rotateX(-10deg);
  transition: all 0.3s ease-in-out;
  backdrop-filter: blur(10px);
  box-shadow:
    rgba(0, 0, 0, 0.6) 0px 2px 4px,
    rgba(0, 0, 0, 0.5) 0px 7px 13px -3px,
    rgba(0, 0, 0, 0.3) 0px -3px 0px inset;
  animation: form-animation 0.6s ease-in-out;
}
@keyframes form-animation {
  from { transform: rotateX(-30deg); opacity: 0; }
  to   { transform: rotateX(0deg); opacity: 1; }
}
.input {
  padding: 12px;
  border-radius: 15px;
  background: rgba(0, 0, 0, 0.4);
  border: 2px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(8px);
  box-shadow:
    0px 2px 4px rgba(0, 0, 0, 0.5),
    0px 7px 13px rgba(0, 0, 0, 0.3),
    inset 0px -3px 0px rgba(0, 0, 0, 0.2);
  color: white;
  transition: all 0.3s ease-in-out;
}
.input::placeholder { color: rgba(255, 255, 255, 0.7); }
.input:hover, .input:focus {
  border-color: rgba(255, 255, 255, 0.4);
  background-color: rgba(0, 0, 0, 0.6);
  transform: scale(1.05) rotateY(15deg);
  outline: none;
}
button {
  padding: 10px 20px;
  border: none;
  border-radius: 10px;
  background: rgba(96, 165, 250, 0.9);
  color: #fff;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  box-shadow:
    rgba(0, 0, 0, 0.5) 0px 2px 4px,
    rgba(0, 0, 0, 0.4) 0px 7px 13px -3px;
}
button:hover {
  background: rgba(147,197,253,1);
  transform: scale(1.05) rotateY(10deg);
}
button:disabled { opacity: 0.6; cursor: not-allowed; }
h1 { text-align: center; font-size: 1.4rem; letter-spacing: 1px; color: #60a5fa; margin-bottom: 4px; }
p { text-align: center; font-size: 0.85rem; color: #aaa; }
</style>
</head>
<body>
  <!-- 新增：Liquid Ether 背景层 -->
  <div class="liquid-ether" aria-hidden="true">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
    <div class="blob b4"></div>
    <div class="noise"></div>
  </div>

  <!-- 你的登录表单（保持不变） -->
  <form class="form" id="loginForm">
    <h1>Qyen Vision 登录</h1>
    <p>欢迎回来，探索你的AI世界</p>

    <input type="text" class="input" id="username" placeholder="用户名" required>
    <input type="password" class="input" id="password" placeholder="密码" required>
    <button type="submit" id="loginBtn">登录</button>

    <div class="text-center text-sm mt-2">
      <a href="#" class="text-blue-400 hover:underline">忘记密码？</a>
    </div>
  </form>

<script>
// 👇 把这里换成你的 n8n 生产地址
const N8N_WEBHOOK_URL = 'https://n8n-kjycwasd.us-east-1.clawcloudrun.com/webhook/login';

const form = document.getElementById('loginForm');
const btn = document.getElementById('loginBtn');

// 已登录直接进入
if (localStorage.getItem('isLoggedIn') === 'true') {
  window.location.href = 'qyen.html';
}

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  btn.disabled = true;
  btn.textContent = '验证中...';

  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value.trim();

  try {
    const res = await fetch(N8N_WEBHOOK_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ username, password })
    });
    const data = await res.json();

    if (data.success) {
      localStorage.setItem('isLoggedIn', 'true');
      btn.textContent = '登录成功';
      window.location.href = 'qyen.html';
    } else {
      btn.disabled = false;
      btn.textContent = '登录';
      alert('❌ 用户名或密码错误');
    }
  } catch (err) {
    alert('❌ 登录接口出错：' + err.message);
    btn.disabled = false;
    btn.textContent = '登录';
  }
});
</script>
</body>
</html>

